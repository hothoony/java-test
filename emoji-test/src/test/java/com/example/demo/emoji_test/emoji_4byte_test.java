package com.example.demo.emoji_test;

import com.example.demo.EmojiDto;
import org.junit.jupiter.api.Test;

public class emoji_4byte_test {

    @Test
    void removeEmoji_test() {

        String[] emojiStringList = {

                // 1~2ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹1 (ë‹¨ìˆœ íŠ¹ìˆ˜ê¸°í˜¸, ì²´í¬/ë³„í‘œ/ì‚¼ê°í˜• ë“±)
                "â˜…â˜†âœ“âœ”âœ˜âœ–âœ³â‡â€¼â‰â€»ã€’",

                // 1~2ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹2 (ì‹¬ë³¼, ë°•ìŠ¤, ìŒí‘œ ë“± â€“ ì‹œê° ê°•ì¡°ìš©)
                "â– â–¡â–²â–¼â—†â—‡â–¶â—€â™¬â™ªâ™©â™«â™­â™¯",

                // 3ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹1 (ê¸°ë³¸ UIìš© ìƒì§• â€“ ì´ë©”ì¼, ì „í™”, ë‚ ì”¨, ì£¼ì˜ ë“±)
                "âœ‰â˜Žâ˜â˜€â˜â˜‚â˜ƒâ˜”âš¡â˜•â°âŒ›âŒšâš âš ï¸â˜ ",

                // 3ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹2 (ê¸°ë³¸ í•˜íŠ¸, í™”ì‚´í‘œ, ê¸°íƒ€ ì •ë³´ ë§ˆí¬)
                "â¤â£ðŸ’¢ðŸ’¬ðŸ’­ðŸ’¤âž•âž–âž—âœ”ï¸âŒâœ…ðŸ”ºðŸ”»ðŸ”¸ðŸ”¹",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹1 (í”¼ë“œë°±/ë°˜ì‘ â€“ ì–¼êµ´, ì† ì œìŠ¤ì²˜ ë“±)
                "ðŸ˜€ðŸ˜ðŸ˜‚ðŸ¤£ðŸ˜ƒðŸ˜„ðŸ˜…ðŸ˜†ðŸ˜‰ðŸ˜ŠðŸ˜‹ðŸ˜ŽðŸ˜ðŸ˜˜ðŸ¥°ðŸ™‚ðŸ¤—ðŸ¤”ðŸ˜ðŸ˜¶",
                "ðŸ‘ðŸ‘ŽðŸ™ðŸ‘ðŸ™ŒðŸ–ï¸âœ‹ðŸ¤šðŸ‘ŒâœŒï¸ðŸ¤žðŸ¤™ðŸ¤ŸðŸ¤˜",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹2 (ì‹¤ë¬´ í‘œí˜„ â€“ ì•Œë¦¼, ê²½ê³ , ì •ë³´ ë“±)
                "ðŸ“¢ðŸ“£ðŸ””ðŸ”•ðŸš¨ðŸ“£ðŸ†—ðŸ†˜ðŸ†™ðŸ†’ðŸ†“ðŸ†•ðŸ†–ðŸ…¿ï¸ðŸˆðŸˆ¯ï¸ðŸ’¡",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹3 (ë§ˆì¼€íŒ…/ê³µì§€ â€“ ì„ ë¬¼, íŒŒí‹°, ë°°ë„ˆìš©)
                "ðŸŽðŸŽˆðŸŽ‰ðŸŽŠðŸŽ‚ðŸŽ€ðŸŽ†ðŸŽ‡ðŸŽ„ðŸŽƒðŸŽ‹ðŸª…âœ¨ðŸ’ðŸ’˜",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹4 (ìƒíƒœ/ìž‘ì—… ì§„í–‰ â€“ ì‹œê°„, ìº˜ë¦°ë”, ì²´í¬)
                "ðŸ•’ðŸ•ðŸ•™ðŸ•›â°â³âŒ›ðŸ“…ðŸ“†ðŸ“âœï¸âœ…ðŸ”„ðŸ”ƒðŸ”",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹5 (ê¸ˆìœµ/ë¹„ì¦ˆë‹ˆìŠ¤ â€“ ëˆ, ì¹´ë“œ, í™”í, ì°¨íŠ¸ ë“±)
                "ðŸ’°ðŸ’³ðŸ’²ðŸ’¸ðŸ“ˆðŸ“‰ðŸ“ŠðŸ’¹ðŸª™ðŸ’·ðŸ’¶ðŸ’´ðŸ’µ",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹6 (ìŒì‹/íœ´ì‹ â€“ ì¹´íŽ˜, ìŒì‹ ì•„ì´ì½˜)
                "â˜•ðŸ°ðŸ©ðŸ”ðŸŸðŸ•ðŸŒ­ðŸ¥ªðŸ±ðŸ£ðŸ›ðŸ¥—ðŸœðŸ™ðŸšðŸž",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹7 (ì´ë™ìˆ˜ë‹¨/ë‚ ì”¨/ì—¬í–‰ â€“ ìœ„ì¹˜, êµí†µ)
                "ðŸš—ðŸš•ðŸš™ðŸšŒðŸšŽðŸš“ðŸš‘ðŸš’ðŸš¨ðŸš€âœˆï¸ðŸ›«ðŸ›¬ðŸ›³â›´ðŸŒ§ï¸ðŸŒ¤ï¸ðŸŒ¦ï¸",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹8 (ì‚¬ìš©ìž ì•„ë°”íƒ€ìš© â€“ ì‚¬ëžŒ/ì§ì—… ì´ëª¨ì§€)
                "ðŸ‘¨ðŸ‘©ðŸ§‘ðŸ‘§ðŸ‘¦ðŸ‘¶ðŸ§’ðŸ‘µðŸ‘´ðŸ§“ðŸ‘®â€â™€ï¸ðŸ‘®â€â™‚ï¸ðŸ‘¨â€âš•ï¸ðŸ‘©â€âš•ï¸ðŸ‘¨â€ðŸ«ðŸ‘©â€ðŸ«",

                // 4ë°”ì´íŠ¸ ì´ìƒ ì´ëª¨ì§€ ê·¸ë£¹1 (ZWJ ì¡°í•© â€“ ê°€ì¡±, ì§ì—…)
                "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ðŸ‘¨â€ðŸ’»ðŸ‘©â€ðŸ’»ðŸ‘¨â€ðŸš€ðŸ‘©â€ðŸš€ðŸ‘¨â€ðŸ«ðŸ‘©â€ðŸ«",

                // 4ë°”ì´íŠ¸ ì´ìƒ ì´ëª¨ì§€ ê·¸ë£¹2 (êµ­ê¸° ë° ì§€ì—­ í”Œëž˜ê·¸)
                "ðŸ‡°ðŸ‡·ðŸ‡ºðŸ‡¸ðŸ‡¯ðŸ‡µðŸ‡¨ðŸ‡³ðŸ‡¬ðŸ‡§ðŸ‡©ðŸ‡ªðŸ‡«ðŸ‡·ðŸ‡®ðŸ‡¹ðŸ‡ªðŸ‡¸ðŸ‡§ðŸ‡·ðŸ‡¨ðŸ‡¦ðŸ‡¦ðŸ‡ºðŸ‡·ðŸ‡ºðŸ‡¸ðŸ‡¬"
        };


//        String[] list = EmojiDto.emojiStringList;
        String[] list = emojiStringList;

        for (String emojiString : list) {
            String removeResult = remove4ByteChars(emojiString);
            System.out.println();
            System.out.println("before : " + emojiString);
            System.out.println("after  : " + removeResult);
//            assertThat(removeResult).isEmpty();
        }
    }

    public static String remove4ByteChars(String str) {
        if (str == null) return null;
        return str.codePoints()
                .filter(cp -> cp <= 0xFFFF)  // BMP ë¬¸ìž(3ë°”ì´íŠ¸ ì´í•˜)ë§Œ í—ˆìš©
                .collect(StringBuilder::new,
                        StringBuilder::appendCodePoint,
                        StringBuilder::append)
                .toString();
    }

    @Test
    void test2() {
        String str = "â¤ï¸ðŸ§¡ðŸ’›ðŸ’šðŸ’™ðŸ’œðŸ–¤ðŸ¤ðŸ¤ŽðŸ’”â£ï¸ðŸ’•ðŸ’žðŸ’“ðŸ’—ðŸ’–ðŸ’˜ðŸ’ðŸ’Ÿ";
        System.out.println("str = " + str);
    }
}
