package com.example.demo.emoji_test;

import com.example.demo.EmojiDto;
import org.junit.jupiter.api.Test;

public class emoji_4byte_test {

    @Test
    void removeEmoji_test() {

        String[] emojiStringList = {

                // 1~2ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹1 (ë‹¨ìˆœ íŠ¹ìˆ˜ê¸°í˜¸, ì²´í¬/ë³„í‘œ/ì‚¼ê°í˜• ë“±)
                "â˜…â˜†âœ“âœ”âœ˜âœ–âœ³â‡â€¼â‰â€»ã€’",

                // 1~2ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹2 (ì‹¬ë³¼, ë°•ìŠ¤, ìŒí‘œ ë“± â€“ ì‹œê° ê°•ì¡°ìš©)
                "â– â–¡â–²â–¼â—†â—‡â–¶â—€â™¬â™ªâ™©â™«â™­â™¯",

                // 3ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹1 (ê¸°ë³¸ UIìš© ìƒì§• â€“ ì´ë©”ì¼, ì „í™”, ë‚ ì”¨, ì£¼ì˜ ë“±)
                "âœ‰â˜â˜â˜€â˜â˜‚â˜ƒâ˜”âš¡â˜•â°âŒ›âŒšâš âš ï¸â˜ ",

                // 3ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹2 (ê¸°ë³¸ í•˜íŠ¸, í™”ì‚´í‘œ, ê¸°íƒ€ ì •ë³´ ë§ˆí¬)
                "â¤â£ğŸ’¢ğŸ’¬ğŸ’­ğŸ’¤â•â–â—âœ”ï¸âŒâœ…ğŸ”ºğŸ”»ğŸ”¸ğŸ”¹",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹1 (í”¼ë“œë°±/ë°˜ì‘ â€“ ì–¼êµ´, ì† ì œìŠ¤ì²˜ ë“±)
                "ğŸ˜€ğŸ˜ğŸ˜‚ğŸ¤£ğŸ˜ƒğŸ˜„ğŸ˜…ğŸ˜†ğŸ˜‰ğŸ˜ŠğŸ˜‹ğŸ˜ğŸ˜ğŸ˜˜ğŸ¥°ğŸ™‚ğŸ¤—ğŸ¤”ğŸ˜ğŸ˜¶",
                "ğŸ‘ğŸ‘ğŸ™ğŸ‘ğŸ™ŒğŸ–ï¸âœ‹ğŸ¤šğŸ‘ŒâœŒï¸ğŸ¤ğŸ¤™ğŸ¤ŸğŸ¤˜",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹2 (ì‹¤ë¬´ í‘œí˜„ â€“ ì•Œë¦¼, ê²½ê³ , ì •ë³´ ë“±)
                "ğŸ“¢ğŸ“£ğŸ””ğŸ”•ğŸš¨ğŸ“£ğŸ†—ğŸ†˜ğŸ†™ğŸ†’ğŸ†“ğŸ†•ğŸ†–ğŸ…¿ï¸ğŸˆğŸˆ¯ï¸ğŸ’¡",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹3 (ë§ˆì¼€íŒ…/ê³µì§€ â€“ ì„ ë¬¼, íŒŒí‹°, ë°°ë„ˆìš©)
                "ğŸğŸˆğŸ‰ğŸŠğŸ‚ğŸ€ğŸ†ğŸ‡ğŸ„ğŸƒğŸ‹ğŸª…âœ¨ğŸ’ğŸ’˜",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹4 (ìƒíƒœ/ì‘ì—… ì§„í–‰ â€“ ì‹œê°„, ìº˜ë¦°ë”, ì²´í¬)
                "ğŸ•’ğŸ•ğŸ•™ğŸ•›â°â³âŒ›ğŸ“…ğŸ“†ğŸ“âœï¸âœ…ğŸ”„ğŸ”ƒğŸ”",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹5 (ê¸ˆìœµ/ë¹„ì¦ˆë‹ˆìŠ¤ â€“ ëˆ, ì¹´ë“œ, í™”í, ì°¨íŠ¸ ë“±)
                "ğŸ’°ğŸ’³ğŸ’²ğŸ’¸ğŸ“ˆğŸ“‰ğŸ“ŠğŸ’¹ğŸª™ğŸ’·ğŸ’¶ğŸ’´ğŸ’µ",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹6 (ìŒì‹/íœ´ì‹ â€“ ì¹´í˜, ìŒì‹ ì•„ì´ì½˜)
                "â˜•ğŸ°ğŸ©ğŸ”ğŸŸğŸ•ğŸŒ­ğŸ¥ªğŸ±ğŸ£ğŸ›ğŸ¥—ğŸœğŸ™ğŸšğŸ",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹7 (ì´ë™ìˆ˜ë‹¨/ë‚ ì”¨/ì—¬í–‰ â€“ ìœ„ì¹˜, êµí†µ)
                "ğŸš—ğŸš•ğŸš™ğŸšŒğŸšğŸš“ğŸš‘ğŸš’ğŸš¨ğŸš€âœˆï¸ğŸ›«ğŸ›¬ğŸ›³â›´ğŸŒ§ï¸ğŸŒ¤ï¸ğŸŒ¦ï¸",

                // 4ë°”ì´íŠ¸ ì´ëª¨ì§€ ê·¸ë£¹8 (ì‚¬ìš©ì ì•„ë°”íƒ€ìš© â€“ ì‚¬ëŒ/ì§ì—… ì´ëª¨ì§€)
                "ğŸ‘¨ğŸ‘©ğŸ§‘ğŸ‘§ğŸ‘¦ğŸ‘¶ğŸ§’ğŸ‘µğŸ‘´ğŸ§“ğŸ‘®â€â™€ï¸ğŸ‘®â€â™‚ï¸ğŸ‘¨â€âš•ï¸ğŸ‘©â€âš•ï¸ğŸ‘¨â€ğŸ«ğŸ‘©â€ğŸ«",

                // 4ë°”ì´íŠ¸ ì´ìƒ ì´ëª¨ì§€ ê·¸ë£¹1 (ZWJ ì¡°í•© â€“ ê°€ì¡±, ì§ì—…)
                "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸš€ğŸ‘©â€ğŸš€ğŸ‘¨â€ğŸ«ğŸ‘©â€ğŸ«",

                // 4ë°”ì´íŠ¸ ì´ìƒ ì´ëª¨ì§€ ê·¸ë£¹2 (êµ­ê¸° ë° ì§€ì—­ í”Œë˜ê·¸)
                "ğŸ‡°ğŸ‡·ğŸ‡ºğŸ‡¸ğŸ‡¯ğŸ‡µğŸ‡¨ğŸ‡³ğŸ‡¬ğŸ‡§ğŸ‡©ğŸ‡ªğŸ‡«ğŸ‡·ğŸ‡®ğŸ‡¹ğŸ‡ªğŸ‡¸ğŸ‡§ğŸ‡·ğŸ‡¨ğŸ‡¦ğŸ‡¦ğŸ‡ºğŸ‡·ğŸ‡ºğŸ‡¸ğŸ‡¬",

                "í•œê¸€123abc,.!?'\"~@#$%^&*(){}[]<>+-/_=\\|"
        };


//        String[] list = EmojiDto.emojiStringList;
        String[] list = emojiStringList;

        for (String emojiString : list) {
//            String removeResult = removeAllEmojis(emojiString);
            String removeResult = keepBasicCharsOnly(emojiString);
            System.out.println();
            System.out.println("before : " + emojiString);
            System.out.println("after  : " + removeResult);
//            assertThat(removeResult).isEmpty();
        }
    }

    public static String keepBasicCharsOnly(String text) {
        if (text == null || text.isEmpty()) {
            return text;
        }
        return text.replaceAll("[^\\p{IsHangul}\\p{IsLatin}\\p{IsDigit}\\s.,!?;:()\\[\\]{}\"'-]", "");
    }

    public static String removeAllEmojis(String input) {
        return input.replaceAll("[\\p{InEmoticons}\\p{InDingbats}\\p{InTransportAndMapSymbols}" +
                "\\p{InMiscellaneousSymbolsAndPictographs}\\p{InSupplementalSymbolsAndPictographs}" +
//                "\\p{InMiscellaneousSymbols}\\p{InSymbolsAndPictographsExtendedA}" +
                "\\x{1F1E6}-\\x{1F1FF}" +  // êµ­ê¸°
                "\\x{2700}-\\x{27BF}" +    // ê¸°íƒ€
                "\\x{1F900}-\\x{1F9FF}" +  // Supplemental
                "\\x{1FA70}-\\x{1FAFF}" +  // Extended A
                "\\x{1F300}-\\x{1F5FF}" +  // Misc Symbols
                "\\x{1F600}-\\x{1F64F}" +  // ì–¼êµ´ ì´ëª¨ì§€
                "\\x{1F680}-\\x{1F6FF}" +  // ìš´ì†¡/ì§€ë„
                "\\x{1F700}-\\x{1F77F}" +  // Alchemical
                "\\x{1F780}-\\x{1F7FF}" +  // Geometric
                "\\x{1F800}-\\x{1F8FF}" +  // Supplemental arrows
                "\\x{1F900}-\\x{1F9FF}" +  // Supplemental symbols and pictographs
                "\\x{1FA00}-\\x{1FA6F}" +  // Chess symbols
                "\\x{1FA70}-\\x{1FAFF}" +  // Extended A
                "\\x{1FB00}-\\x{1FBFF}" +  // Extended B
                "\\x{FE0F}" +              // Variation Selector-16
                "]", "");
    }


    @Test
    void test2() {
        String str = "â¤ï¸ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ–¤ğŸ¤ğŸ¤ğŸ’”â£ï¸ğŸ’•ğŸ’ğŸ’“ğŸ’—ğŸ’–ğŸ’˜ğŸ’ğŸ’Ÿ";
        System.out.println("str = " + str);
    }
}
